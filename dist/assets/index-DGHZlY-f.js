import{c as l,j as e,a as u,K as x,M as g,r as d,N as m,Q as p,U as f,V as v,W as j,X as y,Y as N,Z as w}from"./index-CDJ7DgKs.js";import{C as _}from"./circle-check-big-CMY9425c.js";const k=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],S=l("arrow-down-right",k);const M=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],b=l("chart-column",M);const L=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],C=l("clock",L);const z=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Q=l("play",z);const T=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],A=l("trending-up",T);function $({className:t,...n}){return e.jsx("div",{"data-slot":"skeleton",className:u("bg-accent animate-pulse rounded-md",t),...n})}const E=t=>{const o=1e3*((Number(t)||1)%5+1),s=Math.floor(o*.6),i=Math.floor(s*.8);return{views:o,starts:s,completions:i,drop_off_rate:Math.floor(Math.random()*20)+10,avg_time:`${Math.floor(Math.random()*5)+1}m ${Math.floor(Math.random()*60)}s`,conversion_rate:Math.floor(i/o*100)}},V=t=>x({queryKey:["statistics",t],queryFn:async()=>(await new Promise(n=>setTimeout(n,800)),t?E(t):null),enabled:!!t}),c=({title:t,value:n,icon:r,description:o,className:s,isLoading:i})=>e.jsxs("div",{className:u("rounded-xl border bg-card text-card-foreground shadow p-6",s),children:[e.jsxs("div",{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx("span",{className:"text-sm font-medium leading-none tracking-tight",children:t}),e.jsx(r,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx("div",{children:i?e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(g,{className:"h-4 w-4 animate-spin text-muted-foreground"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-2xl font-bold",children:n??"-"}),o&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:o})]})})]}),P=[{id:1,title:"General Knowledge Quiz"},{id:2,title:"Customer Feedback Survey"},{id:3,title:"Product Preference Test"}],D={views:1250,starts:980,completions:750,drop_off_rate:12,avg_time:"2m 45s",conversion_rate:76};function F(){const[t,n]=d.useState(""),{data:r,isLoading:o}=m({...p(),select:a=>Array.isArray(a)&&a.length>0?a:P});d.useEffect(()=>{r?.length&&!t&&n(String(r[0].id))},[r,t]);const{data:s,isLoading:i}=m({...V(t),select:a=>a||D}),h=a=>{n(a)};return e.jsxs("div",{className:"space-y-6 p-4",children:[e.jsx("div",{className:"flex items-center justify-end",children:e.jsx("div",{className:"w-full sm:w-[250px]",children:o?e.jsx($,{className:"h-10 w-full"}):e.jsxs(f,{value:t,onValueChange:h,children:[e.jsx(v,{children:e.jsx(j,{placeholder:"Select a quiz"})}),e.jsx(y,{children:r?.map(a=>e.jsx(N,{value:String(a.id),children:a.title},a.id))})]})})}),!t&&!o?e.jsx("div",{className:"flex h-[400px] items-center justify-center border rounded-lg bg-muted/10 border-dashed",children:e.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[e.jsx(b,{className:"h-8 w-8"}),e.jsx("p",{children:"Select a quiz to view statistics"})]})}):e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[e.jsx(c,{title:"Landing Views",value:s?.views,icon:w,isLoading:i,description:"Total visits to the landing page"}),e.jsx(c,{title:"Quiz Starts",value:s?.starts,icon:Q,isLoading:i,description:"Number of times the quiz was started"}),e.jsx(c,{title:"Completions",value:s?.completions,icon:_,isLoading:i,description:"Total completed submissions"}),e.jsx(c,{title:"Drop-off Rate",value:s?`${s.drop_off_rate}%`:void 0,icon:S,isLoading:i,description:"Percentage of users who abandoned"}),e.jsx(c,{title:"Avg. Time Spent",value:s?.avg_time,icon:C,isLoading:i,description:"Average duration per completion"}),e.jsx(c,{title:"Conversion Rate",value:s?`${s.conversion_rate}%`:void 0,icon:A,isLoading:i,description:"Views to completion ratio"})]})]})}export{F as component};
