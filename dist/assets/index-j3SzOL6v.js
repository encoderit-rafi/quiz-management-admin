import{o as c,s as d,y as u,n as p,p as x,q as g,t as f,w as h,j as s,L as n,B as j}from"./index-C0O9Q7MJ.js";import{u as F,a as w,F as b}from"./field-wCSYO7Ng.js";import{D as i,A as v,a as L,b as N}from"./consts-CqA-1tLx.js";import{F as y}from"./form-input-BTBxnoh2.js";import{F as A}from"./form-password-input-DUBPDGZy.js";import"./context-CBWJO7S0.js";import"./password-input-BRREzLrV.js";const P=c({email:u("Please enter a valid email address"),password:d().min(6,"Password must be at least 6 characters long").max(50,"Password is too long")}),S={email:"",password:""},T=()=>{const{setToken:a}=p(),t=x();return g({mutationKey:["/login"],mutationFn:e=>f.post("/login",e),onSuccess:e=>{const{data:{token:o}}=e;a(o),t({to:"/",replace:!0,search:i}),h.success("Logged in successfully!")}})},k=()=>{const{mutate:a,isPending:t}=T(),e=F({resolver:w(P),defaultValues:S}),{control:o,handleSubmit:r}=e;function l(m){a(m)}return s.jsx("form",{onSubmit:r(l),children:s.jsxs(b,{children:[s.jsx(y,{control:o,type:"email",name:"email",label:"Email",placeholder:"m@example.com"}),s.jsxs("div",{className:"flex flex-col gap-2 items-end",children:[s.jsx(A,{control:o,name:"password",label:"Password",placeholder:"* * * * *"}),s.jsx(n,{to:"/forgot-password",className:"font-thin duration-150 hover:underline text-sm",children:"Forgot password"})]}),s.jsx(j,{type:"submit",className:"w-full",loading:t,children:"Login"})]})})};function R(){return s.jsxs("div",{className:"max-w-md flex flex-col gap-6",children:[s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(n,{to:"/",search:{...i},children:s.jsx(v,{className:"size-12"})}),s.jsxs(L,{children:["Welcome to ",s.jsx("span",{className:"font-bold",children:"QZ"}),"."]}),s.jsx(N,{children:"Log in to oversee quizzes, analytics, and system settings."})]}),s.jsx(k,{})]})}export{R as component};
