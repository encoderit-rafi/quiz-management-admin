import{x as c,y as d,J as u,w as p,z as x,A as g,E as f,I as n,G as h,j as s,L as i,B as j}from"./index-CDJ7DgKs.js";import{u as F,a as w,F as b}from"./field-B7Wg_fYW.js";import{F as v}from"./form-input-BDk7ste-.js";import{F as L}from"./form-password-input-CvhLg-w6.js";import"./context-DX6TRtil.js";import{A as N,a as A,b as y}from"./app-subtitle-ChuS48SI.js";import"./password-input-DfsXY_sW.js";const P=c({email:u("Please enter a valid email address"),password:d().min(6,"Password must be at least 6 characters long").max(50,"Password is too long")}),S={email:"",password:""},T=()=>{const{setToken:a}=p(),t=x();return g({mutationKey:["/login"],mutationFn:e=>f.post("/login",e),onSuccess:e=>{const{data:{token:o}}=e;a(o),t({to:"/",replace:!0,search:n}),h.success("Logged in successfully!")}})},I=()=>{const{mutate:a,isPending:t}=T(),e=F({resolver:w(P),defaultValues:S}),{control:o,handleSubmit:r}=e;function l(m){a(m)}return s.jsx("form",{onSubmit:r(l),children:s.jsxs(b,{children:[s.jsx(v,{control:o,type:"email",name:"email",label:"Email",placeholder:"m@example.com"}),s.jsxs("div",{className:"flex flex-col gap-2 items-end",children:[s.jsx(L,{control:o,name:"password",label:"Password",placeholder:"* * * * *"}),s.jsx(i,{to:"/forgot-password",className:"font-thin duration-150 hover:underline text-sm",children:"Forgot password"})]}),s.jsx(j,{type:"submit",className:"w-full",loading:t,children:"Login"})]})})};function W(){return s.jsxs("div",{className:"max-w-md flex flex-col gap-6",children:[s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(i,{to:"/",search:{...n},children:s.jsx(N,{className:"size-12"})}),s.jsxs(A,{children:["Welcome to ",s.jsx("span",{className:"font-bold",children:"QZ"}),"."]}),s.jsx(y,{children:"Log in to oversee quizzes, analytics, and system settings."})]}),s.jsx(I,{})]})}export{W as component};
