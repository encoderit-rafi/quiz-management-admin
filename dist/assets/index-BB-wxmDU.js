import{c as r,j as e,z as n,t as c,w as l,E as o,B as d}from"./index-C0O9Q7MJ.js";import{C as m,a as x,b as p,c as u}from"./card-DH7LzJZY.js";import{B as i,A as h,a as j,b as y,c as g}from"./accordion-Dhh1A59X.js";import{C as N}from"./circle-check-big-DxTNpnum.js";import"./index-Drdai_pP.js";const w=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],f=r("calendar",w);const v=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],_=r("download",v);const b=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],q=r("mail",b),k=({data:s})=>e.jsxs(m,{className:"overflow-hidden",children:[e.jsx(x,{className:"bg-muted/40 pb-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(p,{className:"text-lg flex items-center gap-2",children:e.jsx("span",{className:"line-clamp-1",children:s.quiz_title})}),e.jsxs("div",{className:"flex flex-col gap-1 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{className:"h-3.5 w-3.5"}),e.jsx("span",{children:s.submission_date})]}),s.user_email&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{className:"h-3.5 w-3.5"}),e.jsx("span",{children:s.user_email})]})]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-2",children:[e.jsxs(i,{variant:"default",className:"text-sm px-3 py-1",children:["Score: ",s.total_score]}),e.jsxs(i,{variant:"outline",className:"font-mono text-xs",children:["Result: ",s.result_page.name]})]})]})}),e.jsx(u,{className:"p-0",children:e.jsx(h,{type:"single",collapsible:!0,className:"w-full",children:e.jsxs(j,{value:"answers",className:"border-b-0",children:[e.jsx(y,{className:"px-6 py-3 hover:bg-muted/50 transition-colors",children:e.jsx("span",{className:"text-sm font-medium",children:"View Answers"})}),e.jsx(g,{className:"px-6 pb-6 pt-2",children:e.jsx("div",{className:"space-y-4",children:s.answers.map((a,t)=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-sm font-medium leading-none",children:["Q",t+1,": ",a.question]}),e.jsxs("div",{className:"flex items-center justify-between mt-1.5 bg-muted/50 p-2 rounded text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{className:"h-3.5 w-3.5 text-primary"}),e.jsx("span",{children:a.answer})]}),e.jsxs(i,{variant:"secondary",className:"text-[10px] h-5",children:[a.points," pts"]})]})]},t))})})]})})})]}),C=s=>n({queryKey:["leads",s],queryFn:async()=>{try{const{data:a}=await c.get("/leads",{params:s});return a}catch{return null}}}),L=()=>()=>{l.promise(new Promise(a=>setTimeout(a,1500)),{loading:"Exporting leads...",success:"Leads exported successfully!",error:"Failed to export leads."})},A=[{id:1,quiz_title:"General Knowledge Quiz",user_email:"user@example.com",submission_date:"2024-05-15 14:30",total_score:85,result_page:{name:"Success Page",min:80,max:100},answers:[{question:"What is the capital of France?",answer:"Paris",points:10},{question:"Which planet is the Red Planet?",answer:"Mars",points:10}]},{id:2,quiz_title:"Product Feedback Survey",user_email:"feedback@test.com",submission_date:"2024-05-14 09:15",total_score:45,result_page:{name:"Thank You (Low Score)",min:0,max:50},answers:[{question:"How would you rate our service?",answer:"Average",points:2},{question:"Will you recommend us?",answer:"Maybe",points:3}]},{id:3,quiz_title:"Javascript Basics",user_email:"dev@code.com",submission_date:"2024-05-16 11:20",total_score:100,result_page:{name:"Expert Developer",min:90,max:100},answers:[{question:"What is 'typeof null'?",answer:"object",points:10},{question:"Is JS single-threaded?",answer:"Yes",points:10}]}];function P(){const{data:s}=o({...C(),select:t=>Array.isArray(t)&&t.length>0?t:A}),a=L();return e.jsxs("div",{className:"space-y-6 p-4",children:[e.jsx("div",{className:"flex items-center justify-end",children:e.jsxs(d,{onClick:a,children:[e.jsx(_,{className:"mr-2 h-4 w-4"})," Export CSV"]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 2xl:grid-cols-3 gap-4",children:s?.map(t=>e.jsx(k,{data:t},t.id))})]})}export{P as component};
