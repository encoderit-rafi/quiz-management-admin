import{c as j,j as e,a as h,r as u,B as v,aq as g}from"./index-CDJ7DgKs.js";import{C as w,b,c as N,e as y}from"./field-B7Wg_fYW.js";const U=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],F=j("upload",U),k=({src:l,alt:n="Preview",className:s,...o})=>e.jsx("img",{src:l,alt:n,className:h("h-full w-full object-cover object-center",s),...o}),R=({name:l,control:n,label:s="",description:o="upload image here."})=>e.jsx(w,{control:n,name:l,render:({field:m,fieldState:p})=>{const{value:r,onChange:i}=m,{invalid:d,error:x}=p,[a,c]=u.useState(null);return u.useEffect(()=>{if(r instanceof File){const t=URL.createObjectURL(r);return c(t),()=>URL.revokeObjectURL(t)}else c(typeof r=="string"?r:null)},[r]),e.jsxs(b,{"data-invalid":d,children:[!!s&&e.jsx(N,{children:s}),e.jsx("div",{className:"space-y-2 h-full",children:e.jsxs("label",{className:h("flex flex-col gap-4 items-center justify-center text-muted-foreground w-full h-full aspect-video rounded-md cursor-pointer hover:bg-accent/50 transition-colors overflow-hidden",{"border-dashed border":!a}),children:[e.jsx("input",{type:"file",className:"hidden",accept:"image/*",disabled:!!a,onChange:t=>{const f=t.target.files?.[0]||null;i(f)}}),a?e.jsxs("div",{className:"relative w-full h-full",children:[e.jsx(k,{src:a,alt:`${s} preview`}),e.jsx(v,{type:"button",variant:"destructive",size:"icon",className:`absolute top-2 right-2 rounded-full size-6
                    `,onClick:()=>i(null),children:e.jsx(g,{className:"h-4 w-4"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"size-5 shrink-0"}),e.jsx("p",{className:"text-sm text-center whitespace-nowrap truncate max-w-full",children:o})]})]})}),d&&e.jsx(y,{errors:[x]})]})}});export{R as F};
